# 4주차

---

### 강의 34. 시스템 안정화
    1. 시스템 안정화를 위한 상반관계
        * 안정성 - 자원효율
        * 안정성 - 속도
        * 한계에 이를 때까지 메모리를 튜닝 
            메모리 소비 증가 -> 성능저하 -> 장애
        * 한꼐에 이를 떄까지 CPU 사용
            서버 1대 다운 -> 전체 처리능력 초과 -> 장애
    
    2. 시스템의 불안정 요인
        - 어플리케이션/서비스 레벨 -> 부하증가
            1. 기능 추가
            2. 메모리 누수
            3. 지뢰
            4. 사용자의 액세스 패턴
            5. 데이터량 증가
            6. 외부연계추가
        - 하드웨어 -> 처리능력 저하
            7. 메모리, HDD(Hard Disk Drive) 장애
            8. NIC(Network Interface Card) 장애

### 강의 35. 시스템 안정화 대책
    1. 적절한 여유(버퍼) 유지
        - 메모리량, CPU 부하 -> 한계의 7할 운용
    2. 불안정 요인 제거
        - SQL부하의 상한선을 미리 정함
        -> 부하가 높은 SQL을 필요로 하는 경우에는 별도 호스트로
        - 메모리 누수를 줄인다
        - 이상 동작 시 자율제어
        -> 자동 DoS판정(mod_dosdetector)
        -> 자동 재시작(AP server, Host OS)
        -> 자동 쿼리제거(소요시간이 긴 SQL을 KILL)

## 14장. 효율향상전략
-> 하드웨어의 리소스 사용률 높이기

### 강의 36. 가상화 기술
    1. 가상화 서버 구축 정책
        1. 하드웨어 리소스 이용률 향상
        -> 남아있는 리소스를 주로 이용하는 게스트OS를 투입
            - CPU 남음 -> 웹서버
            - I/O 남음 -> 캐시 서버
        2. 같이 두는 것을 피하는 형태의 조합
        -> 리로스 소비 경향이 비슷하고 부하가 높은 용도끼리는 피한다.
        3. 중앙 스토리지는 사용하지 않는다.

    2. 장점
        1. 물리적인 리소스 제약에서 해방
            - 리소르를 동적으로 변경
            - VM의 마이그레이션, 복제
        -> 용이한 서버 증설 -> 더 나은 확장성 확보
        2. 소프트웨어 레벨의 강력한 호스트 제어
            - 비정상 동작 시 문제 국소화
            - 호스트 제어가 용이해진다.
        -> 하드웨어, 운용 비용 저하
        -> 비용 대비 성능 향상, 고가용성으로 발전

    3. 주의점
        1. CPU 2 ~ 3%
        2. 메모리 성능에서 1할 정도
        3. 네트워크 성능은 절반 정도
        4. I/O 선응이 5% 정도 떨어진다.
